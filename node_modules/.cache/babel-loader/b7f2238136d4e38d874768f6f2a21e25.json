{"ast":null,"code":"import { createSlice, createAsyncThunk, createEntityAdapter } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const getProducts = createAsyncThunk(\"products/getProducts\", async () => {\n  const response = await axios.get(\"http://localhost:5000/products\");\n  return response.data;\n});\nexport const saveProduct = createAsyncThunk(\"products/saveProduct\", async _ref => {\n  let {\n    title,\n    price\n  } = _ref;\n  const response = await axios.post(\"http://localhost:5000/products\", {\n    title,\n    price\n  });\n  return response.data;\n});\nexport const updateProduct = createAsyncThunk(\"products/updateProduct\", async _ref2 => {\n  let {\n    id,\n    title,\n    price\n  } = _ref2;\n  const response = await axios.patch(`http://localhost:5000/products/${id}`, {\n    title,\n    price\n  });\n  return response.data;\n});\nexport const deleteProduct = createAsyncThunk(\"products/deleteProduct\", async id => {\n  await axios.delete(`http://localhost:5000/products/${id}`);\n  return id;\n});\nconst productEntity = createEntityAdapter({\n  selectId: product => product.id\n});\nconst productSlice = createSlice({\n  name: \"product\",\n  initialState: productEntity.getInitialState(),\n  extraReducers: {\n    [getProducts.fulfilled]: (state, action) => {\n      productEntity.setAll(state, action.payload);\n    },\n    [saveProduct.fulfilled]: (state, action) => {\n      productEntity.addOne(state, action.payload);\n    },\n    [deleteProduct.fulfilled]: (state, action) => {\n      productEntity.removeOne(state, action.payload);\n    },\n    [updateProduct.fulfilled]: (state, action) => {\n      productEntity.updateOne(state, {\n        id: action.payload.id,\n        updates: action.payload\n      });\n    }\n  }\n});\nexport const productSelectors = productEntity.getSelectors(state => state.product);\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","createEntityAdapter","axios","getProducts","response","get","data","saveProduct","title","price","post","updateProduct","id","patch","deleteProduct","delete","productEntity","selectId","product","productSlice","name","initialState","getInitialState","extraReducers","fulfilled","state","action","setAll","payload","addOne","removeOne","updateOne","updates","productSelectors","getSelectors","reducer"],"sources":["C:/Users/Administrator/Documents/GitHub/reduc-toolkit-crud/src/features/productSlice.js"],"sourcesContent":["import {\r\n  createSlice,\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const getProducts = createAsyncThunk(\r\n  \"products/getProducts\",\r\n  async () => {\r\n    const response = await axios.get(\"http://localhost:5000/products\");\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const saveProduct = createAsyncThunk(\r\n  \"products/saveProduct\",\r\n  async ({ title, price }) => {\r\n    const response = await axios.post(\"http://localhost:5000/products\", {\r\n      title,\r\n      price,\r\n    });\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updateProduct = createAsyncThunk(\r\n  \"products/updateProduct\",\r\n  async ({ id, title, price }) => {\r\n    const response = await axios.patch(`http://localhost:5000/products/${id}`, {\r\n      title,\r\n      price,\r\n    });\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const deleteProduct = createAsyncThunk(\r\n  \"products/deleteProduct\",\r\n  async (id) => {\r\n    await axios.delete(`http://localhost:5000/products/${id}`);\r\n    return id;\r\n  }\r\n);\r\n\r\nconst productEntity = createEntityAdapter({\r\n  selectId: (product) => product.id,\r\n});\r\n\r\nconst productSlice = createSlice({\r\n  name: \"product\",\r\n  initialState: productEntity.getInitialState(),\r\n  extraReducers: {\r\n    [getProducts.fulfilled]: (state, action) => {\r\n      productEntity.setAll(state, action.payload);\r\n    },\r\n    [saveProduct.fulfilled]: (state, action) => {\r\n      productEntity.addOne(state, action.payload);\r\n    },\r\n    [deleteProduct.fulfilled]: (state, action) => {\r\n      productEntity.removeOne(state, action.payload);\r\n    },\r\n    [updateProduct.fulfilled]: (state, action) => {\r\n      productEntity.updateOne(state, {\r\n        id: action.payload.id,\r\n        updates: action.payload,\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nexport const productSelectors = productEntity.getSelectors(\r\n  (state) => state.product\r\n);\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"AAAA,SACEA,WADF,EAEEC,gBAFF,EAGEC,mBAHF,QAIO,kBAJP;AAKA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CACzC,sBADyC,EAEzC,YAAY;EACV,MAAMI,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAU,gCAAV,CAAvB;EACA,OAAOD,QAAQ,CAACE,IAAhB;AACD,CALwC,CAApC;AAQP,OAAO,MAAMC,WAAW,GAAGP,gBAAgB,CACzC,sBADyC,EAEzC,cAA4B;EAAA,IAArB;IAAEQ,KAAF;IAASC;EAAT,CAAqB;EAC1B,MAAML,QAAQ,GAAG,MAAMF,KAAK,CAACQ,IAAN,CAAW,gCAAX,EAA6C;IAClEF,KADkE;IAElEC;EAFkE,CAA7C,CAAvB;EAIA,OAAOL,QAAQ,CAACE,IAAhB;AACD,CARwC,CAApC;AAWP,OAAO,MAAMK,aAAa,GAAGX,gBAAgB,CAC3C,wBAD2C,EAE3C,eAAgC;EAAA,IAAzB;IAAEY,EAAF;IAAMJ,KAAN;IAAaC;EAAb,CAAyB;EAC9B,MAAML,QAAQ,GAAG,MAAMF,KAAK,CAACW,KAAN,CAAa,kCAAiCD,EAAG,EAAjD,EAAoD;IACzEJ,KADyE;IAEzEC;EAFyE,CAApD,CAAvB;EAIA,OAAOL,QAAQ,CAACE,IAAhB;AACD,CAR0C,CAAtC;AAWP,OAAO,MAAMQ,aAAa,GAAGd,gBAAgB,CAC3C,wBAD2C,EAE3C,MAAOY,EAAP,IAAc;EACZ,MAAMV,KAAK,CAACa,MAAN,CAAc,kCAAiCH,EAAG,EAAlD,CAAN;EACA,OAAOA,EAAP;AACD,CAL0C,CAAtC;AAQP,MAAMI,aAAa,GAAGf,mBAAmB,CAAC;EACxCgB,QAAQ,EAAGC,OAAD,IAAaA,OAAO,CAACN;AADS,CAAD,CAAzC;AAIA,MAAMO,YAAY,GAAGpB,WAAW,CAAC;EAC/BqB,IAAI,EAAE,SADyB;EAE/BC,YAAY,EAAEL,aAAa,CAACM,eAAd,EAFiB;EAG/BC,aAAa,EAAE;IACb,CAACpB,WAAW,CAACqB,SAAb,GAAyB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC1CV,aAAa,CAACW,MAAd,CAAqBF,KAArB,EAA4BC,MAAM,CAACE,OAAnC;IACD,CAHY;IAIb,CAACrB,WAAW,CAACiB,SAAb,GAAyB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC1CV,aAAa,CAACa,MAAd,CAAqBJ,KAArB,EAA4BC,MAAM,CAACE,OAAnC;IACD,CANY;IAOb,CAACd,aAAa,CAACU,SAAf,GAA2B,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC5CV,aAAa,CAACc,SAAd,CAAwBL,KAAxB,EAA+BC,MAAM,CAACE,OAAtC;IACD,CATY;IAUb,CAACjB,aAAa,CAACa,SAAf,GAA2B,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC5CV,aAAa,CAACe,SAAd,CAAwBN,KAAxB,EAA+B;QAC7Bb,EAAE,EAAEc,MAAM,CAACE,OAAP,CAAehB,EADU;QAE7BoB,OAAO,EAAEN,MAAM,CAACE;MAFa,CAA/B;IAID;EAfY;AAHgB,CAAD,CAAhC;AAsBA,OAAO,MAAMK,gBAAgB,GAAGjB,aAAa,CAACkB,YAAd,CAC7BT,KAAD,IAAWA,KAAK,CAACP,OADa,CAAzB;AAIP,eAAeC,YAAY,CAACgB,OAA5B"},"metadata":{},"sourceType":"module"}